# åœ¨vue3ğŸ”¥æºç ä¸­å­¦ä¼šç”¨typescriptçš„ğŸ¦•"is"è¯­æ³•

vue3ğŸ”¥æ˜¯ç”¨**typescript**å®ç°çš„, æ‰€ä»¥æˆ‘è®¤ä¸ºä»–çš„æºç æ˜¯æˆ‘ä»¬å­¦ä¹ tyepscriptçš„**æœ€ä½³å®è·µ**, ä¸‹é¢æˆ‘å°±ç”¨ä»–æºç ä¸­çš„å®ä¾‹è®©å¤§å®¶å­¦ä¼šä½¿ç”¨typescriptçš„"`is`"ç‰¹æ€§.

## "is"æ˜¯ç”¨æ¥å¹²ä»€ä¹ˆçš„?
**æ˜¯ä¸€ç§ç±»å‹æ¨æ–­è¡¨è¾¾å¼çš„å…³é”®å­—, é€šè¿‡å’Œå‡½æ•°è¿”å›å€¼çš„æ¯”è¾ƒ, ä»è€Œ"ç¼©å°"å‚æ•°çš„ç±»å‹èŒƒå›´.** ğŸ˜ çœ‹å®Œè¿™å¥è¯æ²¡æ˜ç™½å°±å¯¹äº†, æƒ³ç†è§£è¿™å¥è¯ä»€ä¹ˆæ„æ€, è¯·ç»§ç»­çœ‹ä¸‹é¢çš„ä¾‹å­, ğŸ˜æˆ‘ä¿è¯ç¬¬ä¸€ä¸ªä¾‹å­è¿‡åä½ å°±ä¼šæ˜ç™½è¿™å¥è¯.

## vueåœ¨å“ªé‡Œç”¨äº†"is"
é¦–å…ˆæ•™å¤§å®¶ä¸€ä¸ª**vscode**çš„å°æŠ€å·§, æœç´¢ä¸­æˆ‘ä»¬å¯ä»¥æŒ‰"æ­£åˆ™"æœç´¢, æ¯”å¦‚æœç´¢`\): \w+ is`æˆ‘ä»¬å°±å¯ä»¥æ‰¾åˆ°æ‰€æœ‰ä½¿ç”¨äº†"is"ç‰¹æ€§çš„ä»£ç .

![](https://user-gold-cdn.xitu.io/2019/10/16/16dd32dd3cc345f0?imageView2/2/w/480/h/480/q/85/interlace/1)

[æ›´å¤šå¸¸ç”¨æ­£åˆ™çœ‹è¿™é‡Œ: https://juejin.im/post/5d245d4151882555300feb77](https://juejin.im/post/5d245d4151882555300feb77)

## å®ä¾‹è§£é‡Š
ä»æœç´¢åˆ°çš„ä»£ç ä¸­, æˆ‘ä»¬æ‹¿å‡ºæœ€æœ‰ä»£è¡¨æ€§çš„ä¸€ä¸ªå‡½æ•°è¯´æ˜.
```typescript
const isString = (val: any): val is string => typeof val === 'string'
```

#### åˆ’é‡ç‚¹
å¯ä»¥çœ‹è§åœ¨è¿”å›å€¼éƒ¨åˆ†è¿”å›çš„ä¸æ˜¯ç±»å‹è€Œæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼"`val is string`", è¿™æ®µä»£ç çš„æ„æ€æ˜¯å½“`isString`è¿”å›å€¼ä¸º`true`çš„æ—¶å€™, å‚æ•°`val`å°±æ˜¯`string`ç±»å‹.


#### ç›´æ¥è¿”å›booleanä¸è¡Œå—?
**ä¸è¡Œ!** çœ‹ä¸‹é¢çš„ä»£ç , æˆ‘ä»¬è™½ç„¶çŸ¥é“åœ¨`if`åˆ¤æ–­åaaä¸€å®šæ˜¯`string`,ä½†æ˜¯tsä¸çŸ¥é“, tsä¼šæç¤º`aa`å¯èƒ½æ˜¯`null`ç±»å‹, ä¸èƒ½æ‰§è¡Œ`substring`æ–¹æ³•. 

![](https://user-gold-cdn.xitu.io/2019/10/16/16dd3581007d7545?w=787&h=200&f=png&s=37234)

**æ‰€ä»¥**éœ€è¦ä½¿ç”¨`is`ç‰¹æ€§. tså¯ä»¥**æ ¹æ® if åˆ¤æ–­æ¨æ–­**å‡ºå½“å‰çš„`aa`ä¸º`string`ç±»å‹:

![](https://user-gold-cdn.xitu.io/2019/10/16/16dd383d4ef477bc?w=802&h=224&f=png&s=41524)

## æ›´å¤š"is"åœ¨vue3ä¸­çš„å®ä¾‹

```typescript
// æ˜¯å¦æ˜¯å¯¹è±¡
export const isObject = (val: any): val is Record<any, any> =>
  val !== null && typeof val === 'object'

// æ˜¯å¦refå¯¹è±¡
export function isRef(v: any): v is Ref {
  return v ? v[refSymbol] === true : false
}

// æ˜¯å¦vnode
export function isVNode(value: any): value is VNode {
  return value ? value._isVNode === true : false
}

// æ˜¯å¦æ’æ§½èŠ‚ç‚¹
export const isSlotOutlet = (
  node: RootNode | TemplateChildNode
): node is SlotOutletNode =>
  node.type === NodeTypes.ELEMENT && node.tagType === ElementTypes.SLOT
```
æ›´å¤šä¾‹å­, å¯ä»¥åœ¨æºç ä¸­æœç´¢`\): \w+ is`, å¤§æ¦‚æœ‰16æ¡ç±»ä¼¼çš„ä»£ç .

é€šè¿‡æ€»ç»“æˆ‘ä»¬å‘ç°, "`is`"ä¸»è¦éƒ½æ˜¯åº”ç”¨åœ¨ç±»å‹åˆ¤æ–­å‡½æ•°ä¸Š, è®©åç»­é€»è¾‘åˆ¤æ–­ä¸­å¯ä»¥æ­£ç¡®çš„æ¨æ–­å‡ºå‚æ•°çš„ç±»å‹, å¥½äº†ç°åœ¨å¯ä»¥åœ¨å›å¤´çœ‹å¼€å¤´çš„è§£é‡Š"**isæ˜¯ä¸€ç§ç±»å‹æ¨æ–­è¡¨è¾¾å¼çš„å…³é”®å­—, é€šè¿‡å’Œå‡½æ•°è¿”å›å€¼çš„æ¯”è¾ƒ, ä»è€Œ"ç¼©å°"å‚æ•°çš„ç±»å‹èŒƒå›´.**", ç°åœ¨æ˜¯ä¸æ˜¯å·²ç»ç†è§£äº†å‘¢.

## æ€»ç»“
å–œæ¬¢ts, å¦‚æœä½ ä¹Ÿå–œæ¬¢tsçš„è¯å¯ä»¥çœ‹æˆ‘ä¹‹å‰å†™çš„tsåŸºç¡€æ–‡ç« .

[ç¬¬ä¸€è¯¾, ä½“éªŒtypescript](https://juejin.im/post/5d19ad6de51d451063431864)

[ç¬¬äºŒè¯¾, åŸºç¡€ç±»å‹å’Œå…¥é—¨é«˜çº§ç±»å‹](https://juejin.im/post/5d1af3426fb9a07ed4411a9b)

[ç¬¬ä¸‰è¯¾, ä»€ä¹ˆæ˜¯æ³›å‹?](https://juejin.im/post/5d27f160e51d45108223fcf9)

[ç¬¬å››è¯¾, è§£è¯»é«˜çº§ç±»å‹](https://juejin.im/post/5d3fe80fe51d456206115987)

[ç¬¬äº”è¯¾, å‘½åç©ºé—´(namespace)æ˜¯ä»€ä¹ˆ?](https://juejin.im/post/5d5d04dfe51d4561af16dd24)

å¹³æ—¶è¿˜è¯·å¤§å®¶å¤šå¤šç»ƒä¹ , ç¥æ—©æ—¥ç†Ÿç»ƒts, æ”¾2ä¸ªæˆ‘ç”¨tså†™çš„é¡¹ç›®å½“åšå‚è€ƒ, æŠ›ç –å¼•ç‰, åŠ æ²¹!


**âœ‹ ç§»åŠ¨/pcç«¯æ‰‹åŠ¿åº“, æ”¯æŒ: tap/press/pan/swipe/rotate/pinch**
https://github.com/any86/any-touch

**ğŸ­ æŠŠvueç»„ä»¶å˜æˆthis.$xxxè¿™æ ·çš„å‘½ä»¤**
https://github.com/any86/vue-create-root

## å¾®ä¿¡ç¾¤
æ„Ÿè°¢å¤§å®¶çš„é˜…è¯», å¦‚æœ‰ç–‘é—®å¯ä»¥åŠ æˆ‘å¾®ä¿¡, æˆ‘æ‹‰ä½ è¿›å…¥**å¾®ä¿¡ç¾¤**(ç”±äºè…¾è®¯å¯¹å¾®ä¿¡ç¾¤çš„100äººé™åˆ¶, è¶…è¿‡100äººåå¿…é¡»ç”±ç¾¤æˆå‘˜æ‹‰å…¥)

![](https://user-gold-cdn.xitu.io/2019/9/19/16d474d245b69492?w=512&h=512&f=jpeg&s=27137)