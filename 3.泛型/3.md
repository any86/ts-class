# 为vue3学点typescript, 泛型

## 往期
[第一课, 体验typescript]
[第二课, 基础类型和入门高级类型]

## 插一课
本来打算接着上节课, 把高级类型都讲完, 但是写着写着我发现高级类型中, 有很多地方都需要泛型的知识, 那么先插一节泛型.

## 什么是泛型
泛型其实也是**类型**, 只是这个类型有点像变量, 可以代表任意类型, 但是又和any不同, **泛型表示的是具体的类型, 只是暂时不知道是哪种类型 , 但是可以通过传入类型参数或者ts通过上下文自动推断**, 
**而any表示的是"可以是任意类型"**, 看例子:
```typescript
// 定义输入为T类型, 返回T类型
function convert<T>(input:T):T{
    return input;
}

// ts自动推断T的类型
let a = convert(1); // 1, 返回类型number
let b = convert('1');// '1', 返回类型string
let c = convert(['1']);// ['1'], 返回类型string[]
let d = convert({a:1});// {a:1}, 返回类型{a:number}
```

```typescript
// any
function convert(input:any):any{
    return input;
}

let a = convert(1); // 1, 返回类型any
let b = convert('1');// '1', 返回类型any
let c = convert(['1']);// ['1'], 返回类型any
let d = convert({a:1});// {a:1}, 返回类型any
```

上面我用泛型表示了一个函数的参数和返回值, 这个函数输入什么数据()返回什么数据(类型), 如果用`any`替换`T`那肯定就不行, 会丢失信息. 而且可以看出**ts会根据上下文推断出泛型对应的精准类型**. 上面定义的这个函数, 叫做**泛型函数**.

**注意**: 这和`T`可以是任意字母, 建议用大写字母表示.

我们在使用上面泛型函数的时候, 可以指定类型参数的类型, 从而帮助我们对输入进行约束:
```typescript
let n = 1;
let a = convert<string>(n); // 报错, n只能是string类型
```

再举一个例子,
```typescript
// 输入T, 返回T[]
function convert<T>(input: T): T[]{
    console.log(input.length)
    return [input];
}

let a = convert(1); // 返回类型number[]
let b = convert('1');// 返回类型string[]
```

## 泛型函数

